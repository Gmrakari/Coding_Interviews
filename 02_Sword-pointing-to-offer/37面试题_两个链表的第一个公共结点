

/*
 * Date:2021-02-23 11:30
 * Author:Gmrakari
 * Project:面试题037_两个链表的第一个公共结点
 */

#题意
题目描述

输入两个链表，找出它们的第一个公共结点。

struct ListNode
{
	int m_nKey;
	ListNode* m_pNext;
};


ListNode* FindFirstCommonNode(ListNode *pHead1,ListNode *pHead2)
{
	if(pHead1 == NULL || pHead2 == NULL) return NULL;
	//get two list length
	unsigned int nLength1 = GetListLength(pHead1);
	unsigned int nLength2 = GetListLength(pHead2);

	int nLengthDif = nLength1 - nLength2;

	ListNode* pListHeadLong = pHead1;
	ListNode* pListHeadShort = pHead2;
	if(nLength2 > nLength1)
	{
		pListHeadLong = pHead2;
		pListHeadShort = pHead1;
		nLengthDif = nLength2 - nLength1;
	}

	for( int i = 0; i < nLengthDif;++i)
		pListHeadLong = pListHeadLong->m_pNext;

	while(( pListHeadLong != NULL) &&
		(pListHeadShort != NULL) &&
		*pListHeadLong != pListHeadShort)
	{
		pListHeadLong = pListHeadLong->m_pNext;
		pListHeadShort = pListHeadShort->m_pNext;
	}

	//得到第一个公共点
	ListNode* pFirstCommonNode = pListHeadLong;

	return pFirstCommonNode;
}

unsigned int GetListLength(ListNode* pHead)
{
	unsigned int nLength = 0;
	ListNode* pNode = pHead;
	while(pNode != NULL)
	{
		++nLength;
		pNode = pNode->m_pNext;
	}
	return nLength;
}


大神写法：

ListNode* FindFirstCommonNode(ListNode* pHead1, ListNode* pHead2)
{
	if(pHead1 == NULL || pHead2 == NULL) return NULL;
	ListNode* p1 = (ListNode *)malloc(sizeof(ListNode));
	ListNode* p2 = (ListNode *)malloc(sizeof(ListNode));
	p1 = pHead1;
	p2 = pHead2;
	while( p1 != p2)
	{
		p1 = ( p1 == NULL ? pHead2 : p1->next);
		p2 = ( p2 == NULL ? pHead1 : p2->next);
	}
	return p1;
}